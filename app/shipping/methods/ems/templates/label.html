<!DOCTYPE html>
<html>
<head>
	<title>EMS Shipping label</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
	<meta name="description" content="EMS 할인은 마이이엠에스 해외 EMS 배송은 전국 최고의 서비스 MYEMS">
	<meta name="naver-site-verification" content="d300686232f3f8ba1a47d322f7ddeba092ac73f2"/>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
	<script src='http://code.jquery.com/jquery-1.11.1.min.js'></script>
	<script type = "text/javascript" src = "static/js/jquery-1.7.2.js" ></script>
	<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	<!-- font-awesome JavaScript -->
	<script src="https://use.fontawesome.com/45756dc6e8.js"></script>
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
	<link href="static/css/style.css" rel="stylesheet" type="text/css" />
</head>
<script type="text/javascript">

	$(document).ready(function() {
		$.support.cors = true;
	});
</script>
<!--
-->
<style>
	html, body, div, span, applet, object, iframe,
	h1, h2, h3, h4, h5, h6, p, blockquote, pre, a,
	abbr, acronym, address, big, cite, code, del, dfn,
	em, img, ins, kbd, q, s, samp, small, strike, strong,
	sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul,
	li, fieldset, form, label, legend, table, caption, tbody,
	tfoot, thead, tr, th, td, article, aside, canvas, details,
	embed, figure, figcaption, footer, header, menu, nav, output,
	ruby, section, summary, time, mark, audio, video {
		margin: 0;
		padding: 0;
		border: 0;
		font-size: 100%;
		font: inherit;
		vertical-align: baseline;
	}
	article, aside, details, figcaption, figure, footer, header, menu, nav, section { display: block; }
	body {line-height: 1;}
	ol, ul {list-style: none;}
	blockquote, q {quotes: none;}
	blockquote:before, blockquote:after,q:before, q:after {content: "";content: none;}
	table {border-collapse: collapse;border-spacing: 0;}
	body {
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
		font-size: 10px;
		background-color: #AAAAAA !important;
		color: #000 !important;
	}
	.page {
		margin: 0 auto;
		width: 210mm;
		min-height: 297mm;
		color: #000;
		background-color: #FFFFFF !important;
		position: relative;
	}
	.page-after {
		content: " ";
		height: 20px !important;
	}
	@page {
		size: A4;
		margin: 0;
	}

	@media print {
		html, body {
			width: 210mm;
			height: 297mm;
			background-color: transparent !important;
		}
		.page {
			font-family: "Microsoft Yahei", "Noto Sans KR", "Noto Sans SC", sans-serif !important;
			margin: 0;
			width: initial;
			min-height: initial;
			background: initial;
			page-break-after: always;
		}
		.item_header td {
			letter-spacing: -1.2px;
		}
		.page-after {
			display: none;
		}

		.btnArea {
			display: none;
		}
	}

	.text_green { color: #1ca425 }
	.text_blue { color: #0000FF; font-size: 11px; }
	.text_sm { font-size: 10px; letter-spacing: -1.5px; }
	.text_md { font-size: 11px }
	.text_lg { font-size: 13px; font-weight: bold }
	.text_xl { font-size: 21px !important; font-weight: bold }

	.eg_template {
		width: 190mm; /*210 - 20*/
		height: 277mm; /*297 - 20*/
		padding: 10mm;
		color: #000 !important;
	}

	.eg_template_upper {
		height: 130mm;
		border-bottom: 1px dashed #000;
		padding-bottom: 23px;
	}

	.eg_ems_code {
		display: inline-block;
		text-align: center;
		margin: 20px 0 5px 0;
		font-size: 22px;
		color: #000;
	}
	.barcode_area1 {
		margin-bottom: 5px;
	}
	.eg_table {
		width: 100%;
	}

	.eg_table td {
		border: 1px solid #000;
		height: 19px;
		text-align: center;
		color: #000;
	}

	.eg_table p {
		word-break: break-all;
	}

	.barcode_title {
		padding: 0 0 0 5px;
		color: #000;
		position: relative;
		top: 25px;
		font-size: 12px;
	}

	.barcode {
		width: 227px;
		height: 10px;
		margin: 7px 0 0 0;
	}

	.va_middle {
		vertical-align: middle
	}

	.va_top {
		vertical-align: top
	}

	.ta_left {
		text-align: left !important;
		padding-left: 4px;
	}

	.ta_right {
		text-align: right !important;
		padding-right: 4px;
	}

	.item_td {
		border-bottom: 1px dashed #CCC !important;
		border-top: 1px dashed #CCC !important;
	}

	.eg_template_lower {
		height: 122mm;
	}
	.eg_template_footer {
		height: 19mm;
	}
	.cn23_table {
		max-width: 340px;
		float: right;
		margin: 25px 0 0 0;
	}

	.cn23_table:first-child {
		float: left;
	}

	.cn23_table td {
		border: 1px solid #000;
		height: 21px;
		font-size: 9px;
		color: #000;
		text-align: center;
	}

	.cn23_table p {
		line-height: 1.5;
		text-overflow: clip;
		word-break: break-all;
	}

	.cn23_table h2, h3, b {
		font-weight: bold;
	}

	.cn23_table_receipt {
		max-width: 340px;
		float: right;
		margin: 25px 0 0 0;
	}

	.cn23_table_receipt:first-child {
		float: left;
	}

	.cn23_table_receipt td {
		border: 1px solid #000;
		height: 30px;
		font-size: 13px;
		color: #000;
		padding-left: 10px;
	}

	.footer_table {
		width: 100%;
		position: relative;
	}

	.footer_table td {
		border: 1px solid #000;
		padding: 4px 4px 0 4px;
		font-size: 11px;
		color: #000;
		text-align: center;
	}

	input[type=checkbox] {
		visibility: hidden;
		width: 10px;
		height: 10px;
		cursor:pointer;
	}

	input[type=checkbox]:after {
		content: "";
		visibility: visible;
		display: inline-block;
		cursor: pointer;
		position: relative;
		top: -4px;
		width: 8px;
		height: 8px;
		background-color: #FFFFFF;
		border: 1px solid black;
		border-radius: 1px;
	}
	input[type=checkbox]:checked:after {
		content: "\2714";
		font-size: 9px;
		font-weight: bold;
		color: black;
		background: #FFFFFF;
		text-align: center;
		line-height: 9px;
	}
	.e-commerce {
		float: left;
		display: inline-block;
		margin-bottom: 2px;
		color: #FFFFFF;
		background-color: #000000;
		font-size:16px;
		font-weight: bold;
		padding: 3px 18px;
	}
	.btnArea {
		margin: 25px; auto;
		text-align: center;
	}
	.btnArea div {
		margin: 10px 0;
		font-size: 18px;
		font-weight: bold;
    }
</style>
<script type="text/javascript" src="static/js/jquery-barcode.js"></script>
<script language="JavaScript">
document.onreadystatechange = function() {
    if (document.readyState === 'complete') {
        $(document).trigger('fontfaceapplied');
    }
};

var consignment = {{ consignment | tojson }};

$(function() {
    generate_label(consignment);
});

function generate_label(ret) {
    var eg_html = "<div class='btnArea'>" +
                        "<button type='button' id='printBtn' class='btn btn-primary btn-lg'>송장 출력</button>"+
                        "<div>송장의 이름, 주소, 중량 등을 다시 한번 확인 후 출력해 주세요.</div>" +
                "</div>";
    var temp = '' ;
    $(ret).each(function(idx, obj) {
        eg_html +=
            `<div class="page">
                <div id="export-id" style="
                    position: absolute;
                    top: 70mm;
                    right: 10mm;
                    padding: 10px;
                    border: 5px solid black;
                    background: white;
                    width: 50mm;
                    text-align: center;
                ">{{ export_id }}</div>
                <div class="eg_template">` +
                    '<div class="eg_template_upper">' +
                        '<table class="eg_table">' +
                            '<colgroup>' +
                                '<col style="width:1px;"/>' +
                                '<col style="width:57px;"/>' +
                                '<col style="width:164px;"/>' +
                                '<col style="width:45px;"/>' +
                                '<col style="width:47px;"/>' +
                                '<col style="width:50px;"/>' +
                                '<col style="width:25px;"/>' +
                                '<col style="width:27px;"/>' +
                                '<col style="width:58px;"/>' +
                                '<col style="width:115px;"/>' +
                                '<col style="width:42px;"/>' +
                                '<col style="width:78px;"/>' +
                                '<col style="width:34px;"/>' +
                                '<col style="width:32px;"/>' +
                            '</colgroup>' +
                            '<tr>' +
                                '<td colspan="2" rowspan="3" style="border: 0">' +
                                    '<div class="barcode_title">Item No.<br>우편물 번호</div>' +
                                '</td>' +
                                '<td colspan="5" rowspan="3" style="border: 0">' +
                                    '<span class="eg_ems_code ems_code'+idx+'"></span>' +
                                    '<div class="barcode_area1" data="'+obj['ems_code']+'"></div>'+
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="3" class="va_middle">Date & Time Posted 접수년월일시</td>' +
                                '<td colspan="4" class="va_middle add_dttm'+idx+'"></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="3" class="va_middle">Post office code 우편용국기호</td>' +
                                '<td colspan="4" class="va_middle">1000114</td>' +
                            '</tr>' +
                            '<tr style="font-size: 14px;">' +
                                '<td rowspan="5" style="line-height: 1.3">' +
                                '<br><span style="font-size: 9px">From</span><br><br>보<br>내<br>는<br><br>사<br>람' +
                                '</td>' +
                                '<td colspan="5" class="ta_left">' +
                                    '<span class="text_blue">Tel. No.&nbsp;</span><span class="sender_phone'+idx+'"></span>' +
                                '</td>' +
                                '<td rowspan="5" style="line-height: 1.2">' +
                                    '<br><span style="font-size: 9px">To</span><br><br>받<br><br>는<br><br>사<br><br>람' +
                                '</td>' +
                                '<td colspan="7" class="ta_left">' +
                                    '<span class="text_blue">Tel. No.&nbsp;</span><span class="receiver_phone'+idx+'"></span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr style="font-size: 14px;">' +
                                '<td colspan="5" class="ta_left" style="padding-top: 2px;"><span class="text_blue">Name&nbsp;</span><span class="sender_name'+idx+'"></span></td>' +
                                '<td colspan="7" class="ta_left"><span class="text_blue">Name&nbsp;</span><span class="receiver_name'+idx+'"></span></td>' +
                            '</tr>' +
                            '<tr style="font-size: 14px;">' +
                                '<td colspan="5" class="ta_left" style="border-bottom: 0; padding-top: 4px;">' +
                                    '<span class="text_blue">Address&nbsp;</span><br>' +
                                    '<p style="height: 84px" class="sender_addr'+idx+'"></p>' +
                                    '<p><span class="text_blue">e-mail</span></p>' +
                                '</td>' +
                                '<td colspan="7" class="ta_left" style="border-bottom: 0">' +
                                    '<span class="text_blue">Address&nbsp;</span><br>' +
                                    '<p class="receiver_addr'+idx+'"></p>' +
                                '</td>' +
                            '</tr>' +
                            '<tr style="font-size: 9px; letter-spacing: -2px">' +
                            '<td colspan="5" class="ta_right va_middle" style="border-bottom: 0; border-top: 0">' +
                            '<span class="text_green">작성된 개인정보는 사전통관정보제공 시행국가에 전자적으로 전송됩니다.</span>' +
                            '</td>' +
                            '<td colspan="7" style="border-top: 0; border-bottom: 0"></td>' +
                            '</tr>' +
                            '<tr style="font-size: 14px;">' +
                            '<td colspan="5" class="text_lg" style="border-top: 0">' +
                            '<span><span class="text_md text_blue">Postal code&nbsp;&nbsp;</span><span class="sender_post_code'+idx+'"></span></span>' +
                            '<span class="text_blue" style="float: right">Rep. of KOREA&nbsp;&nbsp;</span>' +
                            '</td>' +
                            '<td colspan="7" style="border-top: 0">' +
                            '<span style="float: left"><span class="text_md text_blue">&nbsp;&nbsp;Postal code&nbsp;&nbsp;</span><span class="receiver_post_code'+idx+'"></span></span>' +
                            '<span style="float: right">' +
                            '<span class="text_md text_blue" style="letter-spacing: -1px;">Country&nbsp;&nbsp;</span>' +
                            '<span style="display:inline-block; white-space: nowrap; max-width: 150px;"><span class="country_name'+idx+'"></span></span>' +
                            '</span>' +
                            '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="9" class="va_middle text_lg" style="height: 23px">' +
            '<span style="float: left; padding-left: 6px;">Customs Declaration 세관신고서</span>' +
            '<span class="tax_id_number'+idx+'"></span>' +
            '<span style="float: right; padding-right: 6px;">CN23</span>'+
        '</td>' +
                                '<td colspan="2" class="va_middle">' +
                                    '<span style="display: inline-block; padding-left: 6px; float: left; font-size: 8px;">Actual Weight<br>실제중량</span>' +
                                    '<span class="text_lg" style="display: inline-block; padding-right:6px; float: right">' +
                                        '<span class="pure_weight'+idx+'"></span><span class="text_md">&nbsp;g</span>' +
                                    '</span>' +
                                '</td>' +
                                '<td colspan="3" class="va_middle">' +
                                    '<span style="display: inline-block; padding-left: 6px; float: left">Postage<br>우편요금</span>' +
                                    '<span class="text_lg" style="display: inline-block; padding-right: 6px; float: right">' +
                                        '<span class="post_price'+idx+'"></span><span class="text_md">&nbsp;원</span>' +
                                    '</span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr style="font-size:8px; letter-spacing: -1px" class="item_header">' +
                                '<td colspan="3" class="va_middle" style="height: 25px">Contents 내용 품명(반드시 영문으로 구체적으로 기재)</td>' +
                                '<td class="va_middle">Quantity<br>(개수)</td>' +
                                '<td class="va_middle">Net Weight<br>(순중량)</td>' +
                                '<td class="va_middle">Value<br>(가격:US$)</td>' +
                                '<td colspan="2" class="va_middle">HS Tariff<br>Number(Hs)</td>' +
                                '<td class="va_middle">Country of<br>Origin(생산지)</td>' +
        '<td colspan="2" class="va_middle">' +
            '<span style="display: inline-block; padding-left: 6px; float: left; font-size: 8px; letter-spacing: -0.5px">Volume Weight<br>부피중량</span>' +
            '<span class="text_lg" style="display: inline-block; padding-right:6px; float: right; letter-spacing: 0">' +
            '<span class="vol_weight'+idx+'"></span><span class="text_md">&nbsp;g</span>' +
        '</span>' +
        '</td>' +
        '<td colspan="3" class="va_middle" style="font-size: 10px;">' +
            '<div>가로*세로*높이(cm)</div>' +
            '<div class="vol_size'+idx+'"></div>' +
        '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="3" class="item_td va_middle ta_left item_name0'+idx+'"></td>' +
                                '<td class="item_td va_middle item_count0'+idx+'"></td>' +
                                '<td class="item_td"></td>' +
                                '<td class="item_td va_middle item_price0'+idx+'"></td>' +
                                '<td colspan="2" class="item_td va_middle item_hscode0'+idx+'"></td>' +
                                '<td class="item_td"></td>' +
                                '<td colspan="2" rowspan="2" class="va_middle ta_left" style="line-height: 1.2">Guarantee Service<br>배달보장서비스(도착국가기준)<br>(신청시 인터넷우체국 확인가능)</td>' +
                                '<td rowspan="2" class="va_middle" style="line-height: 1.2">Country code<br>도착국명 약호</td>' +
                                '<td rowspan="2" class="va_middle country_code_1st'+idx+'" style="font-size: 24px"></td>' +
                                '<td rowspan="2" class="va_middle country_code_2nd'+idx+'" style="font-size: 24px"></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="3" class="item_td va_middle ta_left item_name1'+idx+'"></td>' +
                                '<td class="item_td va_middle item_count1'+idx+'"></td>' +
                                '<td class="item_td"></td>' +
                                '<td class="item_td va_middle item_price1'+idx+'"></td>' +
                                '<td colspan="2" class="item_td va_middle item_hscode1'+idx+'"></td>' +
                                '<td class="item_td"></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="3" class="item_td va_middle ta_left item_name2'+idx+'"></td>' +
                                '<td class="item_td va_middle item_count2'+idx+'"></td>' +
                                '<td class="item_td"></td>' +
                                '<td class="item_td va_middle item_price2'+idx+'"></td>' +
                                '<td colspan="2" class="item_td va_middle item_hscode2'+idx+'"></td>' +
                                '<td class="item_td"></td>' +
                                '<td colspan="2" rowspan="2" class="ta_left" style="letter-spacing: -1px; padding-top: 2px;">' +
                                    '요금납부방법 및 기타<br> ' +
                                    '<br>' +
                                    '<span style="display: inline-block; margin-left: 10px"><input type="checkbox" disabled>&nbsp;현금수납(&nbsp;<input type="checkbox" disabled>감액 시 표시)</span><br>' +
                                    '<span style="display: inline-block; margin-left: 10px"><input type="checkbox" checked disabled>&nbsp;요금후납</span>' +
                                '</td>' +
                                '<td colspan="3" rowspan="2" class="ta_left">&nbsp;&nbsp;Signature 담당자서명</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="3" class="item_td"></td>' +
                                '<td class="item_td"></td>' +
                                '<td class="item_td"></td>' +
                                '<td class="item_td"></td>' +
                                '<td colspan="2" class="item_td"></td>' +
                                '<td class="item_td"></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="5" class="va_middle ta_left" style="letter-spacing: -1px;">';

            exportElement = '<input type="checkbox">수출면장건';
            switch (obj['item_detailed']) {
                case '0' :
                    eg_html += '<input type="checkbox">Sample 상품견본&nbsp;&nbsp;&nbsp;<input type="checkbox">Gift 선물&nbsp;&nbsp;&nbsp;<input type="checkbox">Merchandise 상품&nbsp;&nbsp;&nbsp;' + exportElement;
                    break;
                case '1' :
                    eg_html += '<input type="checkbox">Sample 상품견본&nbsp;&nbsp;&nbsp;<input type="checkbox">Gift 선물&nbsp;&nbsp;&nbsp;<input type="checkbox" checked>Merchandise 상품&nbsp;&nbsp;&nbsp;' + exportElement;
                    break;
                case '31' :
                    eg_html += '<input type="checkbox">Sample 상품견본&nbsp;&nbsp;&nbsp;<input type="checkbox" checked>Gift 선물&nbsp;&nbsp;&nbsp;<input type="checkbox">Merchandise 상품&nbsp;&nbsp;&nbsp;' + exportElement;
                    break;
                case '32' :
                    eg_html += '<input type="checkbox" checked>Sample 상품견본&nbsp;&nbsp;&nbsp;<input type="checkbox">Gift 선물&nbsp;&nbsp;&nbsp;<input type="checkbox">Merchandise 상품&nbsp;&nbsp;&nbsp;' + exportElement;
                    break;
            }

            eg_html +=      '</td>' +
                                '<td colspan="4" rowspan="2" class="text_sm" style="line-height: 1.5">' +
                                    'Signature 발송인 서명(세관신고서,<br>보험이용여부,받는사람 전화번호 기재필)<br><span class="sender_name sender_name_region'+idx+'"></span>' +
                                '</td>' +
                                '<td colspan="2" rowspan="2" class="text_sm" style="line-height: 1.2">' +
                                    '보험이용여부(음식물, 전자제품 불가)<br>(Shipping insurance)<br>' +
                                    '<span style="line-height: 30px"><input type="checkbox" disabled>&nbsp;YES</span>' +
                                    '<span style="display: inline-block; margin-left: 25px"><input type="checkbox" checked disabled>&nbsp;NO</span>' +
                                '</td>' +
                                '<td colspan="3" rowspan="2" class="text_sm ta_left" style="line-height: 1.2">' +
                                    '&nbsp;&nbsp;보험가액(Insurance value)' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="5" class="va_middle ta_left" style="height: 36px;">' +
                                    '<span style="display: inline-block; padding: 0 0 4px 0; margin-left:6px; border-bottom: 1px solid #000">순번(Specify each shipment. Shipment No.)</span>' +
                                    '<span style="display: inline-block; position: relative; top: 10px; font-weight: bold">:</span>' +
                                    '<span style="display: inline-block; position: relative; top: 8px; font-weight: bold">:</span>' +
                                    '&nbsp;<span style="display: inline-block; padding: 0 0 4px 0; margin-left:4px; border-bottom: 1px solid #000">&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)번째&nbsp;</span><br> ' +
                                    '<span style="display: inline-block; margin-left:46px;">총물수(Total item quantity)</span>' +
                                    '&nbsp;<span style="display: inline-block; margin-left:52px;">&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)개</span>' +
                                '</td>' +
                            '</tr>' +
                        '</table>' +
                    '</div>';

            eg_html +=
                    '<div class="eg_template_lower">' +
                        '<table class="cn23_table">' +
                            '<colgroup>' +
                                '<col style="width:1px;"/>' +
                                '<col style="width:35px;"/>' +
                                '<col style="width:60px;"/>' +
                                '<col style="width:19px;"/>' +
                                '<col style="width:33px;"/>' +
                                '<col style="width:33px;"/>' +
                                '<col style="width:25px;"/>' +
                                '<col style="width:60px;"/>' +
                            '</colgroup>' +
                            '<tr>' +
                                '<td colspan="8" class="va_middle" style="font-size: 14px;">' +
                                    '<h2>Customs Declaration(CN23) / Invoice</h2>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" rowspan="2" class="ta_left va_top">' +
                                    '<h3>①Shipper/Exporter</h3>' +
                                    '<p style="height:58px;">' +
                                        '<span class="sender_name'+idx+'"></span><br>' +
                                        '<span class="sender_addr'+idx+'"></span>' +
                                    '</p>' +
                                    '<p class="sender_phone'+idx+'"></p>' +
                                '</td>' +
                                '<td colspan="2" class="ta_left va_top"><h3>⑥Carrier</h3></td>' +
                                '<td colspan="2" class="ta_left va_top" style="letter-spacing: -1px">' +
                                    '<h3>⑦Sailing on or about</h3><br>' +
                                    '<span style="font-size: 14px;" class="add_date'+idx+'"></span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" class="ta_left va_top">' +
                                    '<h3>⑧No & date of invoice</h3><br>' +
                                    '<span class="text_md add_date'+idx+'"></span>&nbsp;&nbsp;' +
                                    '<span class="text_md ems_code'+idx+'"></span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" rowspan="2" class="ta_left va_top">' +
                                    '<h3>②For account & risk of Messers</h3>' +
                                    '<p style="height:58px;">' +
                                        '<span class="receiver_name'+idx+'"></span><br>' +
                                        '<span class="receiver_addr'+idx+'"></span>' +
                                    '</p>' +
                                    '<p class="receiver_phone'+idx+'"></p>' +
                                '</td>' +
                                '<td colspan="4" class="ta_left va_top"><h3>⑨No & date of L/C</h3></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" class="ta_left va_top"><h3>⑩L/C Issuing Bank</h3></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" class="ta_left va_top" style="height:60px;"><h3>③Notify party</h3></td>' +
                                '<td colspan="4" rowspan="2" class="ta_left va_top">' +
            '<h3>⑪Remarks</h3>' +
            '<span style="font-size: 14px;" class="tax_id_number1'+idx+'"></span>' +
        '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td class="ta_left va_top" style="letter-spacing: -1px; height: 40px">' +
                                    '<h3>④Port of loading</h3>' +
                                    '<span class="text_md" style="line-height: 18px;">KOREA</span>' +
                                '</td>' +
                                '<td colspan="3" class="ta_left va_top" style="letter-spacing: -1px">' +
                                    '<h3>⑤Final destination</h3>' +
                                    '<span class="text_md country_name'+idx+'"></span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="2" class="text_sm va_middle"><h3>⑫Description of Goods</h3></td>' +
                                '<td class="va_middle"><h3>⑬Quantity/Unit</h3></td>' +
                                '<td class="va_middle" colspan="2"><h3>⑭Unit-Price</h3></td>' +
                                '<td class="va_middle" colspan="2"><h3>⑮Amount</h3></td>' +
                                '<td class="va_middle"><h3>HS-code</h3><h3></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="2" class="ta_left" style="height: 65px;word-break:break-all;"><span class="goods'+idx+'"></span></td>' +
                                '<td class="ta_left"><span class="quantity'+idx+'"></span></td>' +
                                '<td colspan="2" class="ta_left"><span class="price'+idx+'"></span></td>' +
                                '<td colspan="2" class="ta_left"><span class="amount'+idx+'"></span></td>' +
                                '<td class="hscode'+idx+'"></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="8" class="ta_left va_middle" style="height: 24px;">' +
                                    '&nbsp;&nbsp;<b>Total</b>' +
                                    '<span style="display:inline-block;padding-left:28px;"><span class="total'+idx+'"></span>&nbsp;USD</span>' +
                                    '<span style="display:inline-block;padding-left:28px;"><b>Signed by</b>&nbsp;<span class="sender_name'+idx+'"></span></span>' +
                                '</td>' +
                            '</tr>' +
                        '</table>' +
                        '<table class="cn23_table">' +
                            '<colgroup>' +
                                '<col style="width:1px;"/>' +
                                '<col style="width:35px;"/>' +
                                '<col style="width:60px;"/>' +
                                '<col style="width:19px;"/>' +
                                '<col style="width:33px;"/>' +
                                '<col style="width:33px;"/>' +
                                '<col style="width:25px;"/>' +
                                '<col style="width:60px;"/>' +
                            '</colgroup>' +
                            '<tr>' +
                                '<td colspan="8" class="va_middle" style="font-size: 14px;">' +
                                    '<h2>Customs Declaration(CN23) / Invoice</h2>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" rowspan="2" class="ta_left va_top">' +
                                    '<h3>①Shipper/Exporter</h3>' +
                                    '<p style="height:58px;">' +
                                        '<span class="sender_name'+idx+'"></span><br>' +
                                        '<span class="sender_addr'+idx+'"></span>' +
                                    '</p>' +
                                    '<p class="sender_phone'+idx+'"></p>' +
                                '</td>' +
                                '<td colspan="2" class="ta_left va_top"><h3>⑥Carrier</h3></td>' +
                                '<td colspan="2" class="ta_left va_top" style="letter-spacing: -1px">' +
                                    '<h3>⑦Sailing on or about</h3><br>' +
                                    '<span style="font-size: 14px;" class="add_date'+idx+'"></span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" class="ta_left va_top">' +
                                    '<h3>⑧No & date of invoice</h3><br>' +
                                    '<span class="text_md add_date'+idx+'"></span>&nbsp;&nbsp;' +
                                    '<span class="text_md ems_code'+idx+'"></span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" rowspan="2" class="ta_left va_top">' +
                                    '<h3>②For account & risk of Messers</h3>' +
                                    '<p style="height:58px;">' +
                                        '<span class="receiver_name'+idx+'"></span><br>' +
                                        '<span class="receiver_addr'+idx+'"></span>' +
                                    '</p>' +
                                    '<p class="receiver_phone'+idx+'"></p>' +
                                '</td>' +
                                '<td colspan="4" class="ta_left va_top"><h3>⑨No & date of L/C</h3></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" class="ta_left va_top"><h3>⑩L/C Issuing Bank</h3></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="4" class="ta_left va_top" style="height:60px;"><h3>③Notify party</h3></td>' +
        '<td colspan="4" rowspan="2" class="ta_left va_top">' +
            '<h3>⑪Remarks</h3>' +
            '<span style="font-size: 14px;" class="tax_id_number2'+idx+'"></span>' +
        '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td class="ta_left va_top" style="letter-spacing: -1px; height: 40px">' +
                                    '<h3>④Port of loading</h3>' +
                                    '<span class="text_md" style="line-height: 18px;">KOREA</span>' +
                                '</td>' +
                                '<td colspan="3" class="ta_left va_top" style="letter-spacing: -1px">' +
                                    '<h3>⑤Final destination</h3>' +
                                    '<span class="text_md country_name'+idx+'"></span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="2" class="text_sm va_middle"><h3>⑫Description of Goods</h3></td>' +
                                '<td class="va_middle"><h3>⑬Quantity/Unit</h3></td>' +
                                '<td class="va_middle" colspan="2"><h3>⑭Unit-Price</h3></td>' +
                                '<td class="va_middle" colspan="2"><h3>⑮Amount</h3></td>' +
                                '<td class="va_middle"><h3>HS-code</h3><h3></td>' +
                            '</tr>' +
                            '<tr>' +
                            '<td colspan="2" class="ta_left" style="height: 65px;word-break:break-all;"><span class="goods'+idx+'"></span></td>' +
                            '<td class="ta_left"><span class="quantity'+idx+'"></span></td>' +
                            '<td colspan="2" class="ta_left"><span class="price'+idx+'"></span></td>' +
                            '<td colspan="2" class="ta_left"><span class="amount'+idx+'"></span></td>' +
                            '<td class="hscode'+idx+'"></td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td colspan="8" class="ta_left va_middle" style="height: 24px;">' +
                                    '&nbsp;&nbsp;<b>Total</b>' +
                                    '<span style="display:inline-block;padding-left:28px;"><span class="total'+idx+'"></span>&nbsp;USD</span>' +
                                    '<span style="display:inline-block;padding-left:28px;"><b>Signed by</b>&nbsp;<span class="sender_name'+idx+'"></span></span>' +
                                '</td>' +
                            '</tr>' +
                        '</table>' +
                    '</div>';

        eg_html +=
            //////////////// footer 레이아웃
                    '<div class="eg_template_footer">' +
                        '<table class="footer_table">' +
                            '<tr>' +
                                '<td style="border-left: 0; border-right: 0; border-top: 0; letter-spacing: -1px; font-size: 12px; width: 60px;">' +
                                    '보내는 사람<br>(FROM)' +
                                '</td>' +
                                '<td style="border-left: 0;  border-top: 0; padding:0; vertical-align: middle; width: 120px; text-align: left; padding-left: 8px;" class="sender_name'+idx+'"></td>' +
                                '<td rowspan="2" style="border-top: 0; border-bottom: 0; vertical-align: middle; padding: 0; width: 305px">';

        eg_html +=	'<div style="font-size:15px;padding-bottom: 5px;">&nbsp;</div>';
        eg_html +=					'<div class="barcode_area2" data="'+obj['ems_code']+'"></div>'+
                                    '<span class="text_lg ems_code'+idx+'" style="font-size: 16px;"></span>' +
                                '</td>' +
                                '<td style="border-top: 0; width: 110px;">' +
                                    '<span style="float: left;">Country</span><br>' +
                                    '<span class="country_name'+idx+'"></span>' +
                                '</td>' +
                                '<td style="border-top: 0; border-right:0;">' +
                                    '<span style="float: left;">Weight</span><br>' +
                                    '<span style="float: right;"><span class="pure_weight'+idx+'"></span>&nbsp;g</span>' +
                                '</td>' +
                            '</tr>' +
                            '<tr>' +
                                '<td style="border-left: 0; border-right: 0; border-bottom: 0; letter-spacing: -1px">' +
                                    '받는 사람<br>(TO)' +
                                '</td>' +
                                '<td style="border-left: 0; border-bottom: 0; padding:0; vertical-align: middle; text-align: left; padding-left: 8px;" class="receiver_name'+idx+'"></td>' +
                                '<td style="border-bottom: 0" class="add_dttm_CR'+idx+'"></td>' +
                                '<td style="border-bottom: 0; border-right:0;">' +
                                    '<span style="float: left;">Postage</span><br>' +
                                    '<span style="float: right;"><span class="post_price'+idx+'"></span>&nbsp;원</span>' +
                                '</td>' +
                            '</tr>' +
                        '</table>' +
                    '</div>' +
                '</div>' +
            '</div>';
        eg_html += '<div class="page-after"></div>';
    });

    $('body').append(eg_html);
    $(".barcode_area1").each(function(idx, obj) {
        var ems_code = $(this).attr('data');
        $(this).barcode(ems_code, "code128", {"showHRI":false, "barHeight":28, "barWidth":1, "output": 'bmp'});
    });
    $(".barcode_area2").each(function(idx, obj) {
        var ems_code = $(this).attr('data');
        $(this).barcode(ems_code, "code128", {"showHRI":false, "barHeight":26, "barWidth":1, "output": 'bmp'});
    });
    $(".barcode_area3").each(function(idx, obj) {
        var ems_code = $(this).attr('data');
        $(this).barcode(ems_code, "code128", {"showHRI":false, "barHeight":30, "barWidth":1, "output": 'bmp'});
    });

    $(ret).each(function(idx, obj) {
        var item_name = obj['item'].split(";");
        var item_price = obj['item_price'].split(";");
        var item_count = obj['item_count'].split(";");
        var item_hscode = obj['item_hscode'].split(";");
        var goods= '',quantity= '',price= '',amount= '',hscode = '',total = 0;
        var sidogugun = '';
        var place = '';
        if (obj['pickup_place'] != null && obj['pickup_place'] !== '') {
            sidogugun = obj['pickup_place'].split(" ");
            place = sidogugun[0].substring(0, 2) + sidogugun[1].substring(0, 2);
        }
        for (var i = 0; i < 3; i++) {
            if (item_name[i] == null || item_price[i] == null || item_count[i] == null ) {
                item_name[i] = '';
                item_price[i] = '';
                item_count[i] = '';
            }
            if(item_hscode[i] == null){
                item_hscode[i] = '';
            }
            if(item_name[i] != ''){
                goods += item_name[i] + "<br>";
                quantity += item_count[i] + "&nbsp;&nbsp;/<br>";
                price += "USD<br>";
                amount += "USD&nbsp;&nbsp;" + item_price[i] + "<br>";
                hscode += item_hscode[i] + "<br>";
                total += parseInt(item_price[i]);
            }
            $(".item_name"+i+idx).html(item_name[i]);
            $(".item_count"+i+idx).html(item_count[i]);
            $(".item_price"+i+idx).html(item_price[i]);
            $(".item_hscode"+i+idx).html(item_hscode[i]);
        }
        $(".goods"+idx).html(goods);
        $(".quantity"+idx).html(quantity);
        $(".price"+idx).html(price);
        $(".amount"+idx).html(amount);
        $(".hscode"+idx).html(hscode);
        $(".total"+idx).html(total);
        $(".ems_code"+idx).html(obj['ems_code']);
        $(".add_dttm"+idx).html(obj['add_date'] + "&nbsp;&nbsp;" + obj['add_time']);
        $(".add_dttm_CR"+idx).html(obj['add_date'] + "<br>" + obj['add_time']);
        $(".add_date"+idx).html(obj['add_date']);
        $(".sender_phone"+idx).html("&nbsp;" + obj['p_hp']);
        $(".receiver_phone"+idx).html("&nbsp;" + obj['f_hp']);
        $(".sender_name"+idx).html("&nbsp;" + obj['p_name']);
        $(".sender_name_region"+idx).html("&nbsp;" + place + obj['p_name']);
        $(".receiver_name"+idx).html("&nbsp;" + obj['f_name']);
        $(".sender_addr"+idx).html((obj['p_address1'] || '') + '&nbsp;' + (obj['p_address2'] || '') + '&nbsp;' + (obj['p_address3'] || ''));
        $(".receiver_addr"+idx).html(obj['f_address1'] + '&nbsp;(' + obj['n_name'] + ')');
        $(".sender_post_code"+idx).html(obj['p_post']);
        $(".receiver_post_code"+idx).html(obj['f_post']);
        $(".country_name"+idx).html(obj['n_name']);
        $(".pure_weight"+idx).html(obj['pure_weight']);
        $(".vol_weight"+idx).html(obj['vol_weight']);
        $(".vol_size"+idx).html(obj['vol_size'].replace(/;/g, " * "));
        $(".post_price"+idx).html(obj['post_price']);
        $(".country_code_1st"+idx).html(obj['n_code'].charAt(0));
        $(".country_code_2nd"+idx).html(obj['n_code'].charAt(1));

        $(".tax_id_number"+idx).html(obj['tax_id_number']);
        $(".tax_id_number1"+idx).html(obj['tax_id_number']);
        $(".tax_id_number2"+idx).html(obj['tax_id_number']);
    });
}


$(document).on('click', '#printBtn', function() {
    window.print();
});
</script>

<body>

</body>
</html>